<!--
 * See https://www.baeldung.com/spring-boot-change-port
 * https://howtodoinjava.com/spring-webflux/spring-webflux-tutorial/
 * https://docs.spring.io/spring-framework/docs/5.0.0.BUILD-SNAPSHOT/spring-framework-reference/html/web-reactive.html
 * BAD REQUEST ( enctype="text/plain") https://www.ionos.it/digitalguide/hosting/tecniche-hosting/messaggio-di-errore-http-400-alla-ricerca-delle-cause/

Content type 'application/x-www-form-urlencoded' not supported
when we use application/x-www-form-urlencoded, Spring doesn't understand it as a RequestBody
-->

<!DOCTYPE html >
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>AutomatedCarParking - ClientGui</title>

    <link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

    <script src="/app.js"></script>

    <script>
        function myIp() {
          var ip = location.host;
          //alert(ip);
          //document.getElementById("myIp").innerHTML   = ip;
          //document.getElementById("raspIp").innerHTML = "192.168.1.5";
        }

        //myIp()
        connect() //defined in app.js
    </script>



</head>
<body>
<div>
    <nav class="navbar navbar-dark bg-dark">
        <h1 class="h1" style="text-align:center; color: white;">AuthomatedCarParking - Client Gui</h1>
    </nav>
</div>
<div style="border: 2px solid black; border-radius: 25px;">
    <center><h2 style="margin-top: 1%;">Parking request</h2></center>
    <form action="/reqenter" method="post">
        <center>
            <div class="d-grid gap-2" style="width:60%">

                <button id="reqenter" class="btn btn-primary" type="submit" name="reqenter" value="reqenter" style="font-size: 12px; width:100%;" th:disabled=${disableReqEnter}><b>Enter Request</b></button>
            </div>
        </center>
    </form>

    <hr/>
    <center><h2>CarEnter request</h2></center>

    <form action="/carenter" method="post">
        <center>
            <div class="d-grid gap-2" style="width:60%">

                <button id="carenter" class="btn btn-primary" type="submit" name="carenter" value="carenter" style="font-size: 12px; width:100%;" th:disabled=${disableCarEnter}><b>CarEnter Request</b></button>
            </div>
        </center>

    </form>

    <hr/>
    <center><h2>Pickup Car</h2></center>
    <form class="form-floating" action="/pickup" method="post">   <!-- the form-data is sent to the page specified in the action attribute -->
        <!--<label for="tokenid">TOKENID</label><br>-->

        <input type="text" class="form-control" id="tokenid" name="token" placeholder="00000" value="00000" style="width:60%; margin-left:20%">
        <label for="tokenid" style="margin-left:20%;">Insert your TOKENID</label>

        <center>
            <div class="d-grid gap-2" style="width:60%">
                <button id="pickupbtn" type="submit" class="btn btn-primary" value="Submit" style="font-size: 12px; width:100%;" th:disabled=${disablePickup}><b>Submit your TOKENID</b></button>
            </div>
        </center>
        <!--<input type="text" id="tokenid" name="token" value="00000"><br>-->
        <!--<input type="submit" value="Submit">-->
    </form>
    <hr/>
    </br>
    <div>
        <p id ="adv" th:text="' '+${advise}" style="text-align:center; font-size: 15px;"></p>
    </div>

    <div >
        <span id="infoDisplay" style="font-size: 15px;"></span><br/>
    </div>
</div>
<!--
<p id ="tokenadv" th:text="' '+${token}">  </p>
-->

</body>
</html>
